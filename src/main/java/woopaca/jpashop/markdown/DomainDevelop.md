# 회원 리포지토리 개발

- `@PersistenceContext` 애노테이션을 사용하면 스프링이 `EntityManager`를 만들어서 주입해 준다.
- `EntityManger`의 `persist()` 메서드는 영속성 컨텍스트에 엔티티를 넣는다. (나중에 transaction이 commit되는 시점에 DB에 `insert` 쿼리가 날라간다.)

# 회원 서비스 개발

- JPA의 모든 데이터 변경이나 로직들은 트랜젝션 안에서 수행되어야 한다.
- `@Transactional` 애노테이션은 스프링에서 제공하는 것과 자바에서 제공하는 것 두 가지가 있다. 스프링에서 제공하는 애노테이션이 기능도 더 많이 제공하고, 이미 스프링에 의존하는 로직이 많이 들어갔기 때문에 스프링에서 제공하는 애노테이션을 사용하는 것이 좋다. (클래스 레벨에 작성하면 public 메서드에 모두 적용)
- `@Transactional(readOnly = true)` → JPA가 조회하는 곳에서 성능을 최적화한다. (여러가지 이유)
  따라서 가급적이면 조회 로직에서는 해당 설정을 해주는 것이 좋다.